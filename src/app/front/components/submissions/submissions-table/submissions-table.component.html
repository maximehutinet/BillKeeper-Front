<p-table [value]="tableRows" dataKey="id">
  <ng-template #header>
    <tr>
      <th style="width: 5rem"></th>
      <th>Date</th>
      <th>eClaimId</th>
      <th>Name</th>
      <th>Amount</th>
      <th></th>
    </tr>
  </ng-template>
  <ng-template #body let-row let-expanded="expanded">
    <tr class="submission-row-header">
      <td class="expand-row-td">
        <p-button type="button" pRipple [text]="true" [rounded]="true" [plain]="true"
                  [icon]="expanded ? 'pi pi-chevron-down' : 'pi pi-chevron-right'" [pRowToggler]="row"/>
      </td>
      <td [routerLink]="'/submissions/' + row.submission.id">{{ row.submission.dateTime | date: 'longDate' }}</td>
      <td [routerLink]="'/submissions/' + row.submission.id">
        <app-value-loading-or-ns [value]="row.submission.eclaimId" [loading]="false">
          {{ row.submission.eclaimId }}
        </app-value-loading-or-ns>
      </td>
      <td [routerLink]="'/submissions/' + row.submission.id">{{ row.submission.name }}</td>
      <td [routerLink]="'/submissions/' + row.submission.id">
        <app-value-loading-or-ns [value]="row.submission.totalUsdAmount" [loading]="false">
          {{ row.submission.totalUsdAmount | currency }}
        </app-value-loading-or-ns>
      </td>
      <td>
        <p-menu #menu class="action-row-menu" [model]="row.menuItems" [popup]="true" />
        <p-button (click)="menu.toggle($event)" icon="pi pi-ellipsis-v" severity="secondary" />
      </td>
    </tr>
  </ng-template>
  <ng-template #expandedrow let-row>
    <tr>
      <td colspan="7" style="padding-left: 5rem">
        <app-bills-table
          [bills]="row.submission.bills"
        ></app-bills-table>
      </td>
    </tr>
  </ng-template>
</p-table>
